<h4>
  <a class="btn-circle btn-primary" [routerLink]="['/report']" routerLinkActive="router-link-active">
    <i class="fas fa-arrow-left"></i>
  </a>
  {{surveyReport.name}}
</h4>
<div class="d-flex justify-content-center form-group">
  <h5>Survey Information</h5>
</div>
<div class="row form-group">
  <div class="col-sm-4">
    <div class="card border-left-primary shadow h-100 py-2">
      <div class="card-body">
        <div class="row no-gutters align-items-center">
          <div class="col mr-2">
            <div class="text-xs font-weight-bold text-primary text-uppercase mb-1">Received Answer / Send out</div>
            <div class=" mb-0">
              <span class="h5 font-weight-bold">{{surveyReport.receivedAnswer}} /</span>
              {{surveyReport.sentOut}}
            </div>
          </div>
          <div class="col-auto">
            <i class="far fa-comment-dots fa-2x text-gray-300"></i>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="col-sm-4">
    <div class="card border-left-success shadow h-100 py-2">
      <div class="card-body">
        <div class="row no-gutters align-items-center">
          <div class="col mr-2">
            <div class="text-xs font-weight-bold text-success text-uppercase mb-1">Send Out Date</div>
            <div class="h5 font-weight-bold mb-0">
              {{surveyReport.dateSendOut | date}}

            </div>
          </div>
          <div class="col-auto">
            <i class="far fa-calendar-check fa-2x text-gray-300"></i>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="col-sm-4">
    <div class="card border-left-danger shadow h-100 py-2">
      <div class="card-body">
        <div class="row no-gutters align-items-center">
          <div class="col mr-2">
            <div class="text-xs font-weight-bold text-danger text-uppercase mb-1">Expire Date</div>
            <div class="h5 font-weight-bold mb-0">
              {{surveyReport.dateStop | date}}
            </div>
          </div>
          <div class="col-auto">
            <i class="far fa-calendar-times fa-2x text-gray-300"></i>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="d-flex justify-content-center form-group">
  <h5>Question Report</h5>
</div>
<div class="row form-group d-flex justify-content-end">
  <div class="col-sm-4 row align-content-center d-flex justify-content-end" style="margin: 0px; padding-right: 24px">
    <b class="row ">Filtered by:</b>
  </div>
  <select class="form-control col-sm-2" [(ngModel)]="teamId">
    <option [value]="0">All Team</option>
    <option *ngFor="let team of teams" [value]="team.id">{{team.name}}</option>
  </select>
  <select class="form-control col-sm-2" [(ngModel)]="departmentId">
    <option [value]="0">All Department</option>
    <option *ngFor="let dep of departments" [value]="dep.id">{{dep.name}}</option>
  </select>
  <select class="form-control col-sm-2" [(ngModel)]="locationId">
    <option [value]="0">All Location</option>
    <option *ngFor="let location of locations" [value]="location.id">{{location.name}}</option>
  </select>
  <div class="col-sm-1">
    <button class="btn btn-success" (click)="applyFilter()">Apply</button>
  </div>
</div>
<div class="modal-content form-group" *ngFor="let q of surveyReport.questions; let i = index">
  <div class="modal-body row" *ngIf="q.question.type.type == 'MULTIPLE' || q.question.type.type =='SINGLE'">
    <div class="col-sm-4">
      <b><i class="far fa-question-circle"></i> {{q.question.question}}</b>
      <div style="padding-left: 12px">
        <b>Option:</b>
      </div>
      <div class="form-check" *ngFor="let option of q.question.options; let i = index">
        <div class="row row-padding-bot">
          <div class="col-sm-10 option">
            {{i + 1}}. {{option.answerText}}
          </div>

        </div>
      </div>
    </div>
    <div class="col-sm-7">
      <ngx-charts-advanced-pie-chart [results]="reportData[i]" *ngIf="q.question.type.type =='SINGLE'"
        [animations]="false">
      </ngx-charts-advanced-pie-chart>
      <ngx-charts-bar-horizontal [results]="reportData[i]" [xAxis]="true" [yAxis]="true" [animations]="false"
        *ngIf="q.question.type.type =='MULTIPLE'">
      </ngx-charts-bar-horizontal>
    </div>
    <div class="col-sm-1 d-flex justify-content-center">

      <button class="btn-circle btn-primary" title="Compare with other survey"
        (click)="openCompare(q,surveyReport.questions[i].answers)">
        <i class="fas fa-file-medical-alt"></i>
      </button>
    </div>
  </div>
  <div class="modal-content form-group" *ngIf="q.question.type.type =='TEXT'">
    <div class="modal-body row">
      <div class="col-sm-4">
        <b><i class="far fa-question-circle"></i>{{q.question.question}}</b>
      </div>
      <div class="col-sm-7">
        <angular-tag-cloud [data]="reportData[i]" [width]="options.width" [height]="options.height"
          [overflow]="options.overflow">
        </angular-tag-cloud>
      </div>
      <div class="col-sm-1 d-flex justify-content-center">

        <button class="btn-circle btn-primary" title="Compare with other survey"
          (click)="openCompare(q,surveyReport.questions[i].answers)">
          <i class="fas fa-file-medical-alt"></i>
        </button>
      </div>
    </div>
  </div>
</div>
